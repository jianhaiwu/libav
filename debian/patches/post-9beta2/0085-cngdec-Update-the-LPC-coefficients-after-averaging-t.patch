From 9b50d20cd24c0a91bace9d651e2d0fd1e91db3c9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Martin=20Storsj=C3=B6?= <martin@martin.st>
Date: Tue, 30 Oct 2012 12:26:39 +0200
Subject: [PATCH 085/278] cngdec: Update the LPC coefficients after averaging
 the reflection coefficients
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

I somehow messed up the placement of this one.

Signed-off-by: Martin Storsj√∂ <martin@martin.st>
---
 libavcodec/cngdec.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/libavcodec/cngdec.c b/libavcodec/cngdec.c
index c22fd55..8cfe9cf 100644
--- a/libavcodec/cngdec.c
+++ b/libavcodec/cngdec.c
@@ -112,12 +112,12 @@ static int cng_decode_frame(AVCodecContext *avctx, void *data,
         for (i = 0; i < FFMIN(avpkt->size - 1, p->order); i++) {
             p->target_refl_coef[i] = (avpkt->data[1 + i] - 127) / 128.0;
         }
-        make_lpc_coefs(p->lpc_coef, p->refl_coef, p->order);
     }
 
     p->energy = p->energy / 2 + p->target_energy / 2;
     for (i = 0; i < p->order; i++)
         p->refl_coef[i] = 0.6 *p->refl_coef[i] + 0.4 * p->target_refl_coef[i];
+    make_lpc_coefs(p->lpc_coef, p->refl_coef, p->order);
 
     for (i = 0; i < p->order; i++)
         e *= 1.0 - p->refl_coef[i]*p->refl_coef[i];
-- 
1.7.9.5

