From d16c4aebba1ba611e10d86aa02be4cdfd3fbc3c5 Mon Sep 17 00:00:00 2001
From: Mans Rullgard <mans@mansr.com>
Date: Tue, 30 Oct 2012 11:57:30 +0000
Subject: [PATCH 084/278] configure: fix print_config() with broke awks

Some awk versions do not treat the result of unary + on a (numeric)
string as numeric, giving wrong results when used in a boolean context
Using unary - instead is logically equivalent works as expected.

Signed-off-by: Mans Rullgard <mans@mansr.com>
---
 configure |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/configure b/configure
index f215c76..9528b5d 100755
--- a/configure
+++ b/configure
@@ -584,7 +584,7 @@ print_config(){
                 } else if (file ~ /\\.asm\$/) {
                     printf(\"%%define %s %d\\n\", c, v) >>file;
                 } else if (file ~ /\\.mak\$/) {
-                    n = +v ? \"\" : \"!\";
+                    n = -v ? \"\" : \"!\";
                     printf(\"%s%s=yes\\n\", n, c) >>file;
                 }
             }
-- 
1.7.9.5

