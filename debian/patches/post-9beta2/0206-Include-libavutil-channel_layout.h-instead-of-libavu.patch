From a903f8f087b0bdcc5643054147f3a5f278e7eb99 Mon Sep 17 00:00:00 2001
From: Justin Ruggles <justin.ruggles@gmail.com>
Date: Sat, 10 Nov 2012 10:00:00 -0500
Subject: [PATCH 206/278] Include libavutil/channel_layout.h instead of
 libavutil/audioconvert.h

Also reorder some other #include when applicable.
---
 avconv.c                        |    2 +-
 avconv_filter.c                 |    2 +-
 avconv_opt.c                    |    2 +-
 doc/filters.texi                |    2 +-
 libavcodec/aacdectab.h          |    2 +-
 libavcodec/ac3_parser.c         |    2 +-
 libavcodec/ac3enc.c             |    3 +--
 libavcodec/ac3tab.c             |    2 +-
 libavcodec/alac.c               |    2 +-
 libavcodec/amrnbdec.c           |    2 +-
 libavcodec/amrwbdec.c           |    2 +-
 libavcodec/apedec.c             |    6 +++---
 libavcodec/api-example.c        |    2 +-
 libavcodec/audioconvert.h       |    2 +-
 libavcodec/bmv.c                |    2 +-
 libavcodec/cook.c               |    2 +-
 libavcodec/dcadec.c             |    2 +-
 libavcodec/dsicinav.c           |    2 +-
 libavcodec/flac.c               |    2 +-
 libavcodec/flacdec.c            |    2 +-
 libavcodec/g722dec.c            |    4 ++--
 libavcodec/g723_1.c             |    2 +-
 libavcodec/g726.c               |    2 +-
 libavcodec/gsmdec.c             |    2 +-
 libavcodec/imc.c                |    2 +-
 libavcodec/libfaac.c            |    4 ++--
 libavcodec/libfdk-aacenc.c      |    6 +++---
 libavcodec/libgsm.c             |    4 ++--
 libavcodec/libilbc.c            |    4 ++--
 libavcodec/libmp3lame.c         |    2 +-
 libavcodec/libopencore-amr.c    |    4 ++--
 libavcodec/libspeexdec.c        |    2 +-
 libavcodec/libspeexenc.c        |    2 +-
 libavcodec/mlp_parser.c         |    2 +-
 libavcodec/mpc7.c               |    2 +-
 libavcodec/mpc8.c               |    2 +-
 libavcodec/mpegaudiodec.c       |    2 +-
 libavcodec/mpegaudioenc.c       |    2 +-
 libavcodec/nellymoserdec.c      |    4 ++--
 libavcodec/pcm-mpeg.c           |    2 +-
 libavcodec/qcelpdec.c           |    2 +-
 libavcodec/qdm2.c               |    2 +-
 libavcodec/ra144dec.c           |    2 +-
 libavcodec/ra288.c              |    2 +-
 libavcodec/ralf.c               |    2 +-
 libavcodec/sipr.c               |    2 +-
 libavcodec/smacker.c            |    2 +-
 libavcodec/truespeech.c         |    2 +-
 libavcodec/twinvq.c             |    2 +-
 libavcodec/utils.c              |    3 +--
 libavcodec/vmdav.c              |    2 +-
 libavcodec/vorbis_data.c        |    4 ++--
 libavcodec/wavpack.c            |    2 +-
 libavcodec/wmavoice.c           |    2 +-
 libavcodec/ws-snd1.c            |    2 +-
 libavdevice/alsa-audio-common.c |    2 +-
 libavfilter/af_aformat.c        |    2 +-
 libavfilter/af_amix.c           |    2 +-
 libavfilter/af_ashowinfo.c      |    2 +-
 libavfilter/af_channelmap.c     |    2 +-
 libavfilter/af_channelsplit.c   |    2 +-
 libavfilter/af_join.c           |    2 +-
 libavfilter/asrc_anullsrc.c     |    4 ++--
 libavfilter/audio.c             |    2 +-
 libavfilter/avfilter.c          |    2 +-
 libavfilter/avfilter.h          |    2 +-
 libavfilter/avfiltergraph.c     |    9 ++++-----
 libavfilter/buffer.c            |    2 +-
 libavfilter/buffersink.c        |    2 +-
 libavfilter/buffersrc.c         |   13 ++++++-------
 libavfilter/fifo.c              |    2 +-
 libavformat/aea.c               |    4 ++--
 libavformat/flic.c              |    2 +-
 libavformat/g723_1.c            |    2 +-
 libavformat/mov.c               |    2 +-
 libavformat/mov_chan.c          |    2 +-
 libavformat/wv.c                |    2 +-
 libavresample/avresample.h      |    2 +-
 78 files changed, 99 insertions(+), 103 deletions(-)

diff --git a/avconv.c b/avconv.c
index c931c46..b2e1f04 100644
--- a/avconv.c
+++ b/avconv.c
@@ -32,7 +32,7 @@
 #include "libswscale/swscale.h"
 #include "libavresample/avresample.h"
 #include "libavutil/opt.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/parseutils.h"
 #include "libavutil/samplefmt.h"
 #include "libavutil/colorspace.h"
diff --git a/avconv_filter.c b/avconv_filter.c
index 8f3f912..f51e3e1 100644
--- a/avconv_filter.c
+++ b/avconv_filter.c
@@ -23,8 +23,8 @@
 #include "libavfilter/avfilter.h"
 #include "libavfilter/avfiltergraph.h"
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/pixdesc.h"
 #include "libavutil/pixfmt.h"
 #include "libavutil/samplefmt.h"
diff --git a/avconv_opt.c b/avconv_opt.c
index ffb6c65..0354454 100644
--- a/avconv_opt.c
+++ b/avconv_opt.c
@@ -30,10 +30,10 @@
 #include "libavfilter/avfilter.h"
 #include "libavfilter/avfiltergraph.h"
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
 #include "libavutil/avstring.h"
 #include "libavutil/avutil.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/intreadwrite.h"
 #include "libavutil/fifo.h"
 #include "libavutil/mathematics.h"
diff --git a/doc/filters.texi b/doc/filters.texi
index 85c8ae0..e1da2fe 100644
--- a/doc/filters.texi
+++ b/doc/filters.texi
@@ -381,7 +381,7 @@ integer or a string representing a channel layout. The default value
 of @var{channel_layout} is 3, which corresponds to CH_LAYOUT_STEREO.
 
 Check the channel_layout_map definition in
-@file{libavcodec/audioconvert.c} for the mapping between strings and
+@file{libavutil/channel_layout.c} for the mapping between strings and
 channel layout values.
 
 Follow some examples:
diff --git a/libavcodec/aacdectab.h b/libavcodec/aacdectab.h
index 844579f..4c23f2d 100644
--- a/libavcodec/aacdectab.h
+++ b/libavcodec/aacdectab.h
@@ -30,7 +30,7 @@
 #ifndef AVCODEC_AACDECTAB_H
 #define AVCODEC_AACDECTAB_H
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "aac.h"
 
 #include <stdint.h>
diff --git a/libavcodec/ac3_parser.c b/libavcodec/ac3_parser.c
index 9786da3..4abcf16 100644
--- a/libavcodec/ac3_parser.c
+++ b/libavcodec/ac3_parser.c
@@ -20,11 +20,11 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
+#include "libavutil/channel_layout.h"
 #include "parser.h"
 #include "ac3_parser.h"
 #include "aac_ac3_parser.h"
 #include "get_bits.h"
-#include "libavutil/audioconvert.h"
 
 
 #define AC3_HEADER_SIZE 7
diff --git a/libavcodec/ac3enc.c b/libavcodec/ac3enc.c
index 5102e30..6d038ef 100644
--- a/libavcodec/ac3enc.c
+++ b/libavcodec/ac3enc.c
@@ -30,9 +30,9 @@
 
 #include <stdint.h>
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/crc.h"
 #include "libavutil/opt.h"
 #include "avcodec.h"
@@ -40,7 +40,6 @@
 #include "dsputil.h"
 #include "ac3dsp.h"
 #include "ac3.h"
-#include "audioconvert.h"
 #include "fft.h"
 #include "ac3enc.h"
 #include "eac3enc.h"
diff --git a/libavcodec/ac3tab.c b/libavcodec/ac3tab.c
index 951a101..ebcfb0b 100644
--- a/libavcodec/ac3tab.c
+++ b/libavcodec/ac3tab.c
@@ -24,7 +24,7 @@
  * tables taken directly from the AC-3 spec.
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "ac3tab.h"
 
diff --git a/libavcodec/alac.c b/libavcodec/alac.c
index 80f6863..242e531 100644
--- a/libavcodec/alac.c
+++ b/libavcodec/alac.c
@@ -45,7 +45,7 @@
  * 32bit  samplerate
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "bytestream.h"
diff --git a/libavcodec/amrnbdec.c b/libavcodec/amrnbdec.c
index 2196645..ccf1b0c 100644
--- a/libavcodec/amrnbdec.c
+++ b/libavcodec/amrnbdec.c
@@ -43,7 +43,7 @@
 #include <string.h>
 #include <math.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "dsputil.h"
 #include "libavutil/common.h"
diff --git a/libavcodec/amrwbdec.c b/libavcodec/amrwbdec.c
index 9b0fe25..43ac0c3 100644
--- a/libavcodec/amrwbdec.c
+++ b/libavcodec/amrwbdec.c
@@ -24,7 +24,7 @@
  * AMR wideband decoder
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/lfg.h"
 
diff --git a/libavcodec/apedec.c b/libavcodec/apedec.c
index 9d2941c..7a6ee41 100644
--- a/libavcodec/apedec.c
+++ b/libavcodec/apedec.c
@@ -20,12 +20,12 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
+#include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
+#include "libavutil/opt.h"
 #include "avcodec.h"
 #include "dsputil.h"
 #include "bytestream.h"
-#include "libavutil/audioconvert.h"
-#include "libavutil/avassert.h"
-#include "libavutil/opt.h"
 
 /**
  * @file
diff --git a/libavcodec/api-example.c b/libavcodec/api-example.c
index 198a59d..949b3ef 100644
--- a/libavcodec/api-example.c
+++ b/libavcodec/api-example.c
@@ -37,7 +37,7 @@
 #endif
 
 #include "libavcodec/avcodec.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/imgutils.h"
 #include "libavutil/mathematics.h"
diff --git a/libavcodec/audioconvert.h b/libavcodec/audioconvert.h
index a7b0baa..7d76fd6 100644
--- a/libavcodec/audioconvert.h
+++ b/libavcodec/audioconvert.h
@@ -31,7 +31,7 @@
 
 #include "libavutil/cpu.h"
 #include "avcodec.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 
 struct AVAudioConvert;
 typedef struct AVAudioConvert AVAudioConvert;
diff --git a/libavcodec/bmv.c b/libavcodec/bmv.c
index 53781e7..3ff6177 100644
--- a/libavcodec/bmv.c
+++ b/libavcodec/bmv.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "bytestream.h"
 
diff --git a/libavcodec/cook.c b/libavcodec/cook.c
index 201b44c..f41457d 100644
--- a/libavcodec/cook.c
+++ b/libavcodec/cook.c
@@ -42,13 +42,13 @@
  * available.
  */
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/lfg.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "dsputil.h"
 #include "bytestream.h"
 #include "fft.h"
-#include "libavutil/audioconvert.h"
 #include "sinewin.h"
 
 #include "cookdata.h"
diff --git a/libavcodec/dcadec.c b/libavcodec/dcadec.c
index 026c572..712a72a 100644
--- a/libavcodec/dcadec.c
+++ b/libavcodec/dcadec.c
@@ -26,12 +26,12 @@
 #include <stddef.h>
 #include <stdio.h>
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/float_dsp.h"
 #include "libavutil/intmath.h"
 #include "libavutil/intreadwrite.h"
 #include "libavutil/mathematics.h"
-#include "libavutil/audioconvert.h"
 #include "libavutil/samplefmt.h"
 #include "avcodec.h"
 #include "dsputil.h"
diff --git a/libavcodec/dsicinav.c b/libavcodec/dsicinav.c
index 2dcbf74..4874aa3 100644
--- a/libavcodec/dsicinav.c
+++ b/libavcodec/dsicinav.c
@@ -24,7 +24,7 @@
  * Delphine Software International CIN audio/video decoders
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "bytestream.h"
 #include "mathops.h"
diff --git a/libavcodec/flac.c b/libavcodec/flac.c
index 07da702..32b28d0 100644
--- a/libavcodec/flac.c
+++ b/libavcodec/flac.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/crc.h"
 #include "libavutil/log.h"
 #include "bytestream.h"
diff --git a/libavcodec/flacdec.c b/libavcodec/flacdec.c
index 10e33f2..6b290e2 100644
--- a/libavcodec/flacdec.c
+++ b/libavcodec/flacdec.c
@@ -33,7 +33,7 @@
 
 #include <limits.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/crc.h"
 #include "avcodec.h"
 #include "internal.h"
diff --git a/libavcodec/g722dec.c b/libavcodec/g722dec.c
index 3364850..55a23d1 100644
--- a/libavcodec/g722dec.c
+++ b/libavcodec/g722dec.c
@@ -34,11 +34,11 @@
  *       respectively of each byte are ignored.
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
+#include "libavutil/opt.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "g722.h"
-#include "libavutil/opt.h"
 
 #define OFFSET(x) offsetof(G722Context, x)
 #define AD AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_DECODING_PARAM
diff --git a/libavcodec/g723_1.c b/libavcodec/g723_1.c
index 342c634..fe88682 100644
--- a/libavcodec/g723_1.c
+++ b/libavcodec/g723_1.c
@@ -26,7 +26,7 @@
  */
 
 #define BITSTREAM_READER_LE
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/mem.h"
 #include "libavutil/opt.h"
 #include "avcodec.h"
diff --git a/libavcodec/g726.c b/libavcodec/g726.c
index 91b5e54..402ae3d 100644
--- a/libavcodec/g726.c
+++ b/libavcodec/g726.c
@@ -23,8 +23,8 @@
  */
 #include <limits.h>
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/opt.h"
 #include "avcodec.h"
 #include "internal.h"
diff --git a/libavcodec/gsmdec.c b/libavcodec/gsmdec.c
index 14b7e03..06e6c33 100644
--- a/libavcodec/gsmdec.c
+++ b/libavcodec/gsmdec.c
@@ -24,7 +24,7 @@
  * GSM decoder
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "msgsmdec.h"
diff --git a/libavcodec/imc.c b/libavcodec/imc.c
index 4c2d01d..ea6172b 100644
--- a/libavcodec/imc.c
+++ b/libavcodec/imc.c
@@ -35,11 +35,11 @@
 #include <stddef.h>
 #include <stdio.h>
 
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "dsputil.h"
 #include "fft.h"
-#include "libavutil/audioconvert.h"
 #include "sinewin.h"
 
 #include "imcdata.h"
diff --git a/libavcodec/libfaac.c b/libavcodec/libfaac.c
index 7297179..24f3bf2 100644
--- a/libavcodec/libfaac.c
+++ b/libavcodec/libfaac.c
@@ -26,11 +26,11 @@
 
 #include <faac.h>
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/common.h"
 #include "avcodec.h"
 #include "audio_frame_queue.h"
 #include "internal.h"
-#include "libavutil/audioconvert.h"
-#include "libavutil/common.h"
 
 
 /* libfaac has an encoder delay of 1024 samples */
diff --git a/libavcodec/libfdk-aacenc.c b/libavcodec/libfdk-aacenc.c
index fada1c2..85ccb10 100644
--- a/libavcodec/libfdk-aacenc.c
+++ b/libavcodec/libfdk-aacenc.c
@@ -21,12 +21,12 @@
 
 #include <fdk-aac/aacenc_lib.h>
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/common.h"
+#include "libavutil/opt.h"
 #include "avcodec.h"
 #include "audio_frame_queue.h"
 #include "internal.h"
-#include "libavutil/audioconvert.h"
-#include "libavutil/common.h"
-#include "libavutil/opt.h"
 
 typedef struct AACContext {
     const AVClass *class;
diff --git a/libavcodec/libgsm.c b/libavcodec/libgsm.c
index afed710..55697db 100644
--- a/libavcodec/libgsm.c
+++ b/libavcodec/libgsm.c
@@ -29,11 +29,11 @@
 
 #include <gsm/gsm.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
+#include "libavutil/common.h"
 #include "avcodec.h"
 #include "internal.h"
 #include "gsm.h"
-#include "libavutil/common.h"
 
 static av_cold int libgsm_encode_init(AVCodecContext *avctx) {
     if (avctx->channels > 1) {
diff --git a/libavcodec/libilbc.c b/libavcodec/libilbc.c
index 2812061..450f413 100644
--- a/libavcodec/libilbc.c
+++ b/libavcodec/libilbc.c
@@ -21,10 +21,10 @@
 
 #include <ilbc.h>
 
-#include "libavutil/audioconvert.h"
-#include "avcodec.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/opt.h"
+#include "avcodec.h"
 #include "internal.h"
 
 static int get_mode(AVCodecContext *avctx)
diff --git a/libavcodec/libmp3lame.c b/libavcodec/libmp3lame.c
index 947edc0..600f6fd 100644
--- a/libavcodec/libmp3lame.c
+++ b/libavcodec/libmp3lame.c
@@ -26,7 +26,7 @@
 
 #include <lame/lame.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/intreadwrite.h"
 #include "libavutil/log.h"
diff --git a/libavcodec/libopencore-amr.c b/libavcodec/libopencore-amr.c
index 0c472b7..006c852 100644
--- a/libavcodec/libopencore-amr.c
+++ b/libavcodec/libopencore-amr.c
@@ -19,11 +19,11 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
-#include "avcodec.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/opt.h"
+#include "avcodec.h"
 #include "audio_frame_queue.h"
 #include "internal.h"
 
diff --git a/libavcodec/libspeexdec.c b/libavcodec/libspeexdec.c
index 0c93f05..e9442f4 100644
--- a/libavcodec/libspeexdec.c
+++ b/libavcodec/libspeexdec.c
@@ -23,7 +23,7 @@
 #include <speex/speex_stereo.h>
 #include <speex/speex_callbacks.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "avcodec.h"
 
diff --git a/libavcodec/libspeexenc.c b/libavcodec/libspeexenc.c
index cbfa5be..e30185a 100644
--- a/libavcodec/libspeexenc.c
+++ b/libavcodec/libspeexenc.c
@@ -85,7 +85,7 @@
 #include <speex/speex_header.h>
 #include <speex/speex_stereo.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/opt.h"
 #include "avcodec.h"
diff --git a/libavcodec/mlp_parser.c b/libavcodec/mlp_parser.c
index 4c1cf9b..d1a3dc1 100644
--- a/libavcodec/mlp_parser.c
+++ b/libavcodec/mlp_parser.c
@@ -26,8 +26,8 @@
 
 #include <stdint.h>
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/crc.h"
-#include "libavutil/audioconvert.h"
 #include "get_bits.h"
 #include "parser.h"
 #include "mlp_parser.h"
diff --git a/libavcodec/mpc7.c b/libavcodec/mpc7.c
index b013eeb..7c9103c 100644
--- a/libavcodec/mpc7.c
+++ b/libavcodec/mpc7.c
@@ -25,12 +25,12 @@
  * divided into 32 subbands.
  */
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/lfg.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "dsputil.h"
 #include "mpegaudiodsp.h"
-#include "libavutil/audioconvert.h"
 
 #include "mpc.h"
 #include "mpc7data.h"
diff --git a/libavcodec/mpc8.c b/libavcodec/mpc8.c
index 0331789..f43cb4e 100644
--- a/libavcodec/mpc8.c
+++ b/libavcodec/mpc8.c
@@ -25,12 +25,12 @@
  * divided into 32 subbands.
  */
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/lfg.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "dsputil.h"
 #include "mpegaudiodsp.h"
-#include "libavutil/audioconvert.h"
 
 #include "mpc.h"
 #include "mpc8data.h"
diff --git a/libavcodec/mpegaudiodec.c b/libavcodec/mpegaudiodec.c
index 52abcb2..bb539cd 100644
--- a/libavcodec/mpegaudiodec.c
+++ b/libavcodec/mpegaudiodec.c
@@ -24,7 +24,7 @@
  * MPEG Audio decoder
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "mathops.h"
diff --git a/libavcodec/mpegaudioenc.c b/libavcodec/mpegaudioenc.c
index ab9e0fa..ba0d8cf 100644
--- a/libavcodec/mpegaudioenc.c
+++ b/libavcodec/mpegaudioenc.c
@@ -24,7 +24,7 @@
  * The simplest mpeg audio layer 2 encoder.
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 
 #include "avcodec.h"
 #include "internal.h"
diff --git a/libavcodec/nellymoserdec.c b/libavcodec/nellymoserdec.c
index f17e9fd..1f79058 100644
--- a/libavcodec/nellymoserdec.c
+++ b/libavcodec/nellymoserdec.c
@@ -31,14 +31,14 @@
  * implementors. The original code is available from http://code.google.com/p/nelly2pcm/
  */
 
-#include "nellymoser.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/lfg.h"
 #include "libavutil/random_seed.h"
-#include "libavutil/audioconvert.h"
 #include "avcodec.h"
 #include "dsputil.h"
 #include "fft.h"
 #include "fmtconvert.h"
+#include "nellymoser.h"
 #include "sinewin.h"
 
 #define BITSTREAM_READER_LE
diff --git a/libavcodec/pcm-mpeg.c b/libavcodec/pcm-mpeg.c
index b5af649..4f9f525 100644
--- a/libavcodec/pcm-mpeg.c
+++ b/libavcodec/pcm-mpeg.c
@@ -24,7 +24,7 @@
  * PCM codecs for encodings found in MPEG streams (DVD/Blu-ray)
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "bytestream.h"
 
diff --git a/libavcodec/qcelpdec.c b/libavcodec/qcelpdec.c
index 9c2b354..d0f4107 100644
--- a/libavcodec/qcelpdec.c
+++ b/libavcodec/qcelpdec.c
@@ -29,7 +29,7 @@
 
 #include <stddef.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "internal.h"
 #include "get_bits.h"
diff --git a/libavcodec/qdm2.c b/libavcodec/qdm2.c
index a094e6c..1666242 100644
--- a/libavcodec/qdm2.c
+++ b/libavcodec/qdm2.c
@@ -36,7 +36,7 @@
 #include <stdio.h>
 
 #define BITSTREAM_READER_LE
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "dsputil.h"
diff --git a/libavcodec/ra144dec.c b/libavcodec/ra144dec.c
index cee3892..0c6c7d3 100644
--- a/libavcodec/ra144dec.c
+++ b/libavcodec/ra144dec.c
@@ -22,7 +22,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/intmath.h"
 #include "avcodec.h"
 #include "get_bits.h"
diff --git a/libavcodec/ra288.c b/libavcodec/ra288.c
index e080d2b..deaafd2 100644
--- a/libavcodec/ra288.c
+++ b/libavcodec/ra288.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/float_dsp.h"
 #include "avcodec.h"
 #define BITSTREAM_READER_LE
diff --git a/libavcodec/ralf.c b/libavcodec/ralf.c
index 3244424..c9c8080 100644
--- a/libavcodec/ralf.c
+++ b/libavcodec/ralf.c
@@ -26,11 +26,11 @@
  * Dedicated to the mastermind behind it, Ralph Wiggum.
  */
 
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "golomb.h"
 #include "unary.h"
-#include "libavutil/audioconvert.h"
 #include "ralfdata.h"
 
 #define FILTER_NONE 0
diff --git a/libavcodec/sipr.c b/libavcodec/sipr.c
index 9db0923..211396b 100644
--- a/libavcodec/sipr.c
+++ b/libavcodec/sipr.c
@@ -25,7 +25,7 @@
 #include <stdint.h>
 #include <string.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/mathematics.h"
 #include "avcodec.h"
 #define BITSTREAM_READER_LE
diff --git a/libavcodec/smacker.c b/libavcodec/smacker.c
index df2d4c4..61283e8 100644
--- a/libavcodec/smacker.c
+++ b/libavcodec/smacker.c
@@ -31,8 +31,8 @@
 #include <stdio.h>
 #include <stdlib.h>
 
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
-#include "libavutil/audioconvert.h"
 #include "mathops.h"
 
 #define BITSTREAM_READER_LE
diff --git a/libavcodec/truespeech.c b/libavcodec/truespeech.c
index efe5f45..7ee1556 100644
--- a/libavcodec/truespeech.c
+++ b/libavcodec/truespeech.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/intreadwrite.h"
 #include "avcodec.h"
 #include "dsputil.h"
diff --git a/libavcodec/twinvq.c b/libavcodec/twinvq.c
index 7af370e..072af7e 100644
--- a/libavcodec/twinvq.c
+++ b/libavcodec/twinvq.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/float_dsp.h"
 #include "avcodec.h"
 #include "get_bits.h"
diff --git a/libavcodec/utils.c b/libavcodec/utils.c
index 78726ae..8c203b9 100644
--- a/libavcodec/utils.c
+++ b/libavcodec/utils.c
@@ -27,10 +27,10 @@
 
 #include "libavutil/avassert.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/crc.h"
 #include "libavutil/mathematics.h"
 #include "libavutil/pixdesc.h"
-#include "libavutil/audioconvert.h"
 #include "libavutil/imgutils.h"
 #include "libavutil/samplefmt.h"
 #include "libavutil/dict.h"
@@ -38,7 +38,6 @@
 #include "dsputil.h"
 #include "libavutil/opt.h"
 #include "thread.h"
-#include "audioconvert.h"
 #include "internal.h"
 #include "bytestream.h"
 #include <stdlib.h>
diff --git a/libavcodec/vmdav.c b/libavcodec/vmdav.c
index 6efc9e7..2fdd27f 100644
--- a/libavcodec/vmdav.c
+++ b/libavcodec/vmdav.c
@@ -43,7 +43,7 @@
 #include <stdlib.h>
 #include <string.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/intreadwrite.h"
 #include "avcodec.h"
diff --git a/libavcodec/vorbis_data.c b/libavcodec/vorbis_data.c
index 98c7a59..03c3d6b 100644
--- a/libavcodec/vorbis_data.c
+++ b/libavcodec/vorbis_data.c
@@ -18,10 +18,10 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/mem.h"
 #include "dsputil.h"
 #include "vorbis.h"
-#include "libavutil/audioconvert.h"
-#include "libavutil/mem.h"
 
 const uint8_t ff_vorbis_channel_layout_offsets[8][8] = {
     { 0 },
diff --git a/libavcodec/wavpack.c b/libavcodec/wavpack.c
index eafb40d..a0ce4a3 100644
--- a/libavcodec/wavpack.c
+++ b/libavcodec/wavpack.c
@@ -21,7 +21,7 @@
 
 #define BITSTREAM_READER_LE
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avcodec.h"
 #include "get_bits.h"
 #include "unary.h"
diff --git a/libavcodec/wmavoice.c b/libavcodec/wmavoice.c
index df98167..2ee235c 100644
--- a/libavcodec/wmavoice.c
+++ b/libavcodec/wmavoice.c
@@ -29,7 +29,7 @@
 
 #include <math.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/mem.h"
 #include "dsputil.h"
 #include "avcodec.h"
diff --git a/libavcodec/ws-snd1.c b/libavcodec/ws-snd1.c
index 05cb31c..036316c 100644
--- a/libavcodec/ws-snd1.c
+++ b/libavcodec/ws-snd1.c
@@ -21,7 +21,7 @@
 
 #include <stdint.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/intreadwrite.h"
 #include "avcodec.h"
diff --git a/libavdevice/alsa-audio-common.c b/libavdevice/alsa-audio-common.c
index b48e007..21f1594 100644
--- a/libavdevice/alsa-audio-common.c
+++ b/libavdevice/alsa-audio-common.c
@@ -31,7 +31,7 @@
 #include <alsa/asoundlib.h>
 #include "libavformat/avformat.h"
 #include "libavutil/avassert.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 
 #include "alsa-audio.h"
 
diff --git a/libavfilter/af_aformat.c b/libavfilter/af_aformat.c
index 77c16be..2059cf2 100644
--- a/libavfilter/af_aformat.c
+++ b/libavfilter/af_aformat.c
@@ -23,8 +23,8 @@
  * format audio filter
  */
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/opt.h"
 
diff --git a/libavfilter/af_amix.c b/libavfilter/af_amix.c
index dde9595..7ef94b9 100644
--- a/libavfilter/af_amix.c
+++ b/libavfilter/af_amix.c
@@ -28,10 +28,10 @@
  * output.
  */
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/audio_fifo.h"
 #include "libavutil/avassert.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/float_dsp.h"
 #include "libavutil/mathematics.h"
diff --git a/libavfilter/af_ashowinfo.c b/libavfilter/af_ashowinfo.c
index 00e0322..bcf821a 100644
--- a/libavfilter/af_ashowinfo.c
+++ b/libavfilter/af_ashowinfo.c
@@ -27,7 +27,7 @@
 #include <stddef.h>
 
 #include "libavutil/adler32.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/mem.h"
 #include "libavutil/samplefmt.h"
diff --git a/libavfilter/af_channelmap.c b/libavfilter/af_channelmap.c
index f70b481..4f9ee86 100644
--- a/libavfilter/af_channelmap.c
+++ b/libavfilter/af_channelmap.c
@@ -25,8 +25,8 @@
 
 #include <ctype.h>
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avstring.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/mathematics.h"
 #include "libavutil/opt.h"
diff --git a/libavfilter/af_channelsplit.c b/libavfilter/af_channelsplit.c
index 92fb27e..e8ceb9c 100644
--- a/libavfilter/af_channelsplit.c
+++ b/libavfilter/af_channelsplit.c
@@ -23,7 +23,7 @@
  * Split an audio stream into per-channel streams.
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/internal.h"
 #include "libavutil/opt.h"
 
diff --git a/libavfilter/af_join.c b/libavfilter/af_join.c
index 7e3a542..c810e59 100644
--- a/libavfilter/af_join.c
+++ b/libavfilter/af_join.c
@@ -25,8 +25,8 @@
  * a single output
  */
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/opt.h"
 
diff --git a/libavfilter/asrc_anullsrc.c b/libavfilter/asrc_anullsrc.c
index 7096cea..4cbaa81 100644
--- a/libavfilter/asrc_anullsrc.c
+++ b/libavfilter/asrc_anullsrc.c
@@ -24,10 +24,10 @@
 #include <inttypes.h>
 #include <stdio.h>
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/internal.h"
 #include "avfilter.h"
 #include "internal.h"
-#include "libavutil/audioconvert.h"
-#include "libavutil/internal.h"
 
 typedef struct {
     uint64_t channel_layout;
diff --git a/libavfilter/audio.c b/libavfilter/audio.c
index 66010c1..48e038b 100644
--- a/libavfilter/audio.c
+++ b/libavfilter/audio.c
@@ -16,7 +16,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 
 #include "audio.h"
diff --git a/libavfilter/avfilter.c b/libavfilter/avfilter.c
index 1e3b001..c7db857 100644
--- a/libavfilter/avfilter.c
+++ b/libavfilter/avfilter.c
@@ -21,10 +21,10 @@
 
 /* #define DEBUG */
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/pixdesc.h"
 #include "libavutil/rational.h"
-#include "libavutil/audioconvert.h"
 
 #include "avfilter.h"
 #include "formats.h"
diff --git a/libavfilter/avfilter.h b/libavfilter/avfilter.h
index adb8b79..01d39b6 100644
--- a/libavfilter/avfilter.h
+++ b/libavfilter/avfilter.h
@@ -478,7 +478,7 @@ struct AVFilterLink {
     int h;                      ///< agreed upon image height
     AVRational sample_aspect_ratio; ///< agreed upon sample aspect ratio
     /* These two parameters apply only to audio */
-    uint64_t channel_layout;    ///< channel layout of current buffer (see libavutil/audioconvert.h)
+    uint64_t channel_layout;    ///< channel layout of current buffer (see libavutil/channel_layout.h)
     int sample_rate;            ///< samples per second
 
     int format;                 ///< agreed upon media format
diff --git a/libavfilter/avfiltergraph.c b/libavfilter/avfiltergraph.c
index 4a66c78..f5c9984 100644
--- a/libavfilter/avfiltergraph.c
+++ b/libavfilter/avfiltergraph.c
@@ -23,16 +23,15 @@
 #include <ctype.h>
 #include <string.h>
 
+#include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
+#include "libavutil/common.h"
+#include "libavutil/log.h"
 #include "avfilter.h"
 #include "avfiltergraph.h"
 #include "formats.h"
 #include "internal.h"
 
-#include "libavutil/audioconvert.h"
-#include "libavutil/avassert.h"
-#include "libavutil/common.h"
-#include "libavutil/log.h"
-
 static const AVClass filtergraph_class = {
     .class_name = "AVFilterGraph",
     .item_name  = av_default_item_name,
diff --git a/libavfilter/buffer.c b/libavfilter/buffer.c
index 439425a..8eb3ce3 100644
--- a/libavfilter/buffer.c
+++ b/libavfilter/buffer.c
@@ -16,7 +16,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavcodec/avcodec.h"
 
diff --git a/libavfilter/buffersink.c b/libavfilter/buffersink.c
index c68b909..96f5351 100644
--- a/libavfilter/buffersink.c
+++ b/libavfilter/buffersink.c
@@ -24,8 +24,8 @@
  */
 
 #include "libavutil/audio_fifo.h"
-#include "libavutil/audioconvert.h"
 #include "libavutil/avassert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/mathematics.h"
 
diff --git a/libavfilter/buffersrc.c b/libavfilter/buffersrc.c
index a2d5edb..9354691 100644
--- a/libavfilter/buffersrc.c
+++ b/libavfilter/buffersrc.c
@@ -23,6 +23,12 @@
  * memory buffer source filter
  */
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/common.h"
+#include "libavutil/fifo.h"
+#include "libavutil/imgutils.h"
+#include "libavutil/opt.h"
+#include "libavutil/samplefmt.h"
 #include "audio.h"
 #include "avfilter.h"
 #include "buffersrc.h"
@@ -30,13 +36,6 @@
 #include "internal.h"
 #include "video.h"
 
-#include "libavutil/audioconvert.h"
-#include "libavutil/common.h"
-#include "libavutil/fifo.h"
-#include "libavutil/imgutils.h"
-#include "libavutil/opt.h"
-#include "libavutil/samplefmt.h"
-
 typedef struct {
     const AVClass    *class;
     AVFifoBuffer     *fifo;
diff --git a/libavfilter/fifo.c b/libavfilter/fifo.c
index b13be68..1bfacaf 100644
--- a/libavfilter/fifo.c
+++ b/libavfilter/fifo.c
@@ -24,7 +24,7 @@
  */
 
 #include "libavutil/avassert.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/common.h"
 #include "libavutil/mathematics.h"
 #include "libavutil/samplefmt.h"
diff --git a/libavformat/aea.c b/libavformat/aea.c
index 4b6bf32..7675009 100644
--- a/libavformat/aea.c
+++ b/libavformat/aea.c
@@ -20,10 +20,10 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
+#include "libavutil/channel_layout.h"
+#include "libavutil/intreadwrite.h"
 #include "avformat.h"
 #include "pcm.h"
-#include "libavutil/intreadwrite.h"
-#include "libavutil/audioconvert.h"
 
 #define AT1_SU_SIZE     212
 
diff --git a/libavformat/flic.c b/libavformat/flic.c
index 6019763..2eb6f05 100644
--- a/libavformat/flic.c
+++ b/libavformat/flic.c
@@ -31,8 +31,8 @@
  * special FLIs from the PC games "Magic Carpet" and "X-COM: Terror from the Deep".
  */
 
+#include "libavutil/channel_layout.h"
 #include "libavutil/intreadwrite.h"
-#include "libavutil/audioconvert.h"
 #include "avformat.h"
 #include "internal.h"
 
diff --git a/libavformat/g723_1.c b/libavformat/g723_1.c
index 2674ce5..0b92702 100644
--- a/libavformat/g723_1.c
+++ b/libavformat/g723_1.c
@@ -24,7 +24,7 @@
  * G.723.1 demuxer
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "avformat.h"
 #include "internal.h"
 
diff --git a/libavformat/mov.c b/libavformat/mov.c
index 63049f5..35c07bd 100644
--- a/libavformat/mov.c
+++ b/libavformat/mov.c
@@ -26,7 +26,7 @@
 //#define MOV_EXPORT_ALL_METADATA
 
 #include "libavutil/attributes.h"
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/intreadwrite.h"
 #include "libavutil/intfloat.h"
 #include "libavutil/mathematics.h"
diff --git a/libavformat/mov_chan.c b/libavformat/mov_chan.c
index 00a2a4b..aa7ba10 100644
--- a/libavformat/mov_chan.c
+++ b/libavformat/mov_chan.c
@@ -25,7 +25,7 @@
 
 #include <stdint.h>
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavcodec/avcodec.h"
 #include "mov_chan.h"
 
diff --git a/libavformat/wv.c b/libavformat/wv.c
index a2ae5a4..f6b96d5 100644
--- a/libavformat/wv.c
+++ b/libavformat/wv.c
@@ -19,7 +19,7 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#include "libavutil/audioconvert.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/intreadwrite.h"
 #include "libavutil/dict.h"
 #include "avformat.h"
diff --git a/libavresample/avresample.h b/libavresample/avresample.h
index b0a9e24..affeeeb 100644
--- a/libavresample/avresample.h
+++ b/libavresample/avresample.h
@@ -93,8 +93,8 @@
  *  avresample_free().
  */
 
-#include "libavutil/audioconvert.h"
 #include "libavutil/avutil.h"
+#include "libavutil/channel_layout.h"
 #include "libavutil/dict.h"
 #include "libavutil/log.h"
 
-- 
1.7.9.5

