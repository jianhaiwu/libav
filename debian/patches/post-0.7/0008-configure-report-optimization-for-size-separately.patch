From 6a34f5d4478bf79b452ab90eb47df75b62202d9c Mon Sep 17 00:00:00 2001
From: Mans Rullgard <mans@mansr.com>
Date: Sun, 19 Jun 2011 18:41:14 +0100
Subject: [PATCH 08/57] configure: report optimization for size separately

This removes an unsightly override of the 'optimizations' setting
only to make the configure report print 'small' when --enable-small
is used.

Signed-off-by: Mans Rullgard <mans@mansr.com>
(cherry picked from commit f082a0fb420f0367bdd00219fd0fe8fe3caf7bc7)

Signed-off-by: Reinhard Tartler <siretart@tauware.de>
---
 configure |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/configure b/configure
index 31e82fc..b26394e 100755
--- a/configure
+++ b/configure
@@ -3006,7 +3006,6 @@ fi
 
 if enabled small; then
     add_cflags $size_cflags
-    optimizations="small"
 elif enabled optimizations; then
     add_cflags $speed_cflags
 else
@@ -3140,6 +3139,7 @@ if enabled sparc; then
     echo "VIS enabled               ${vis-no}"
 fi
 echo "debug symbols             ${debug-no}"
+echo "optimize for size         ${small-no}"
 echo "optimizations             ${optimizations-no}"
 echo "static                    ${static-no}"
 echo "shared                    ${shared-no}"
-- 
1.7.4.1

