From 9da3063e1cadf0bb4b910e4d9bcd9f859f2bbec6 Mon Sep 17 00:00:00 2001
From: Anton Khirnov <anton@khirnov.net>
Date: Fri, 1 Jul 2011 21:24:17 +0200
Subject: [PATCH 24/57] lavf: use the correct pointer in av_open_input_stream().

(cherry picked from commit 5001d6ef4a2b70fe903b1d2e3e64c6ad7cc1cfa6)

Signed-off-by: Reinhard Tartler <siretart@tauware.de>
---
 libavformat/utils.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/libavformat/utils.c b/libavformat/utils.c
index 7370c60..29390b8 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -461,8 +461,9 @@ int av_open_input_stream(AVFormatContext **ic_ptr,
     }
     ic->pb = pb;
 
-    err = avformat_open_input(ic_ptr, filename, fmt, &opts);
+    err = avformat_open_input(&ic, filename, fmt, &opts);
 
+    *ic_ptr = ic;
 fail:
     av_dict_free(&opts);
     return err;
-- 
1.7.4.1

