From 3167dc9515810bbdd86d99d773bcf84657d2e72a Mon Sep 17 00:00:00 2001
From: Anton Khirnov <anton@khirnov.net>
Date: Sat, 31 Dec 2011 16:20:10 +0100
Subject: [PATCH 12/63] lavfi: move version macros to a new installed header
 version.h

---
 doc/APIchanges         |    3 +++
 libavfilter/Makefile   |    2 +-
 libavfilter/avfilter.h |   14 ++------------
 libavfilter/version.h  |   43 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 49 insertions(+), 13 deletions(-)
 create mode 100644 libavfilter/version.h

diff --git a/doc/APIchanges b/doc/APIchanges
index e94c656..751566a 100644
--- a/doc/APIchanges
+++ b/doc/APIchanges
@@ -13,6 +13,9 @@ libavutil:   2011-04-18
 
 API changes, most recent first:
 
+2012-01-xx - xxxxxxx - lavfi 2.15.0
+  Add a new installed header -- libavfilter/version.h -- with version macros.
+
 2011-01-03 - b73ec05 - lavu 51.21.0
   Add av_popcount64
 
diff --git a/libavfilter/Makefile b/libavfilter/Makefile
index 78c4692..09865c1 100644
--- a/libavfilter/Makefile
+++ b/libavfilter/Makefile
@@ -3,7 +3,7 @@ FFLIBS = avutil
 FFLIBS-$(CONFIG_MOVIE_FILTER) += avformat avcodec
 FFLIBS-$(CONFIG_SCALE_FILTER) += swscale
 
-HEADERS = avfilter.h avfiltergraph.h buffersrc.h vsrc_buffer.h
+HEADERS = avfilter.h avfiltergraph.h buffersrc.h version.h vsrc_buffer.h
 
 OBJS = allfilters.o                                                     \
        avfilter.o                                                       \
diff --git a/libavfilter/avfilter.h b/libavfilter/avfilter.h
index cffcfca..068c50b 100644
--- a/libavfilter/avfilter.h
+++ b/libavfilter/avfilter.h
@@ -29,20 +29,10 @@
 #include "libavutil/rational.h"
 #include "libavcodec/avcodec.h"
 
-#define LIBAVFILTER_VERSION_MAJOR  2
-#define LIBAVFILTER_VERSION_MINOR  14
-#define LIBAVFILTER_VERSION_MICRO  0
-
-#define LIBAVFILTER_VERSION_INT AV_VERSION_INT(LIBAVFILTER_VERSION_MAJOR, \
-                                               LIBAVFILTER_VERSION_MINOR, \
-                                               LIBAVFILTER_VERSION_MICRO)
-#define LIBAVFILTER_VERSION     AV_VERSION(LIBAVFILTER_VERSION_MAJOR,   \
-                                           LIBAVFILTER_VERSION_MINOR,   \
-                                           LIBAVFILTER_VERSION_MICRO)
-#define LIBAVFILTER_BUILD       LIBAVFILTER_VERSION_INT
-
 #include <stddef.h>
 
+#include "libavfilter/version.h"
+
 /**
  * Return the LIBAVFILTER_VERSION_INT constant.
  */
diff --git a/libavfilter/version.h b/libavfilter/version.h
new file mode 100644
index 0000000..09d6700
--- /dev/null
+++ b/libavfilter/version.h
@@ -0,0 +1,43 @@
+/*
+ * Version macros.
+ *
+ * This file is part of Libav.
+ *
+ * Libav is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ *
+ * Libav is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with Libav; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+#ifndef AVFILTER_VERSION_H
+#define AVFILTER_VERSION_H
+
+/**
+ * @file
+ * Libavfilter version macros
+ */
+
+#include "libavutil/avutil.h"
+
+#define LIBAVFILTER_VERSION_MAJOR  2
+#define LIBAVFILTER_VERSION_MINOR  15
+#define LIBAVFILTER_VERSION_MICRO  0
+
+#define LIBAVFILTER_VERSION_INT AV_VERSION_INT(LIBAVFILTER_VERSION_MAJOR, \
+                                               LIBAVFILTER_VERSION_MINOR, \
+                                               LIBAVFILTER_VERSION_MICRO)
+#define LIBAVFILTER_VERSION     AV_VERSION(LIBAVFILTER_VERSION_MAJOR,   \
+                                           LIBAVFILTER_VERSION_MINOR,   \
+                                           LIBAVFILTER_VERSION_MICRO)
+#define LIBAVFILTER_BUILD       LIBAVFILTER_VERSION_INT
+
+#endif // AVFILTER_VERSION_H
-- 
1.7.5.4

