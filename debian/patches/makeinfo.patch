Author: Fabian Greffrath <fabian+debian@greffrath.com>
Description: Transition from the `texi2html' utility to the `makeinfo' utility from
 the texinfo package, fixes build-depends-on-obsolete-package lintian error and
 addresses <https://lists.debian.org/debian-devel/2013/05/msg01516.html>.

--- a/configure
+++ b/configure
@@ -1193,7 +1193,7 @@ CONFIG_LIST="
     sram
     static
     swscale_alpha
-    texi2html
+    makeinfo
     thumb
     version3
     xmm_clobber_test
@@ -2049,7 +2049,7 @@ avserver_select="ffm_muxer rtp_protocol
 
 # documentation
 pod2man_deps="doc"
-texi2html_deps="doc"
+makeinfo_deps="doc"
 
 # default parameters
 
@@ -3993,7 +3993,7 @@ if check_pkg_config sdl SDL_events.h SDL
 fi
 
 pod2man --help     > /dev/null 2>&1 && enable pod2man   || disable pod2man
-texi2html -version > /dev/null 2>&1 && enable texi2html || disable texi2html
+makeinfo --version > /dev/null 2>&1 && enable makeinfo  || disable makeinfo
 
 check_header linux/fb.h
 check_header linux/videodev2.h
--- a/doc/platform.texi
+++ b/doc/platform.texi
@@ -258,7 +258,7 @@ llrint() in its C library.
 Install your Cygwin with all the "Base" packages, plus the
 following "Devel" ones:
 @example
-binutils, gcc4-core, make, git, mingw-runtime, texi2html
+binutils, gcc4-core, make, git, mingw-runtime, texinfo
 @end example
 
 In order to run FATE you will also need the following "Utils" packages:
--- a/doc/Makefile
+++ b/doc/Makefile
@@ -12,7 +12,7 @@ HTMLPAGES   = $(AVPROGS-yes:%=doc/%.html
               doc/platform.html                                         \
 
 DOCS-$(CONFIG_POD2MAN)                          += $(MANPAGES) $(PODPAGES)
-DOCS-$(CONFIG_TEXI2HTML)                        += $(HTMLPAGES)
+DOCS-$(CONFIG_MAKEINFO)                        += $(HTMLPAGES)
 DOCS = $(DOCS-yes)
 
 DOC_EXAMPLES-$(CONFIG_AVCODEC_EXAMPLE)          += avcodec
@@ -44,7 +44,7 @@ $(GENTEXI): doc/avoptions_%.texi: doc/pr
 doc/%.html: TAG = HTML
 doc/%.html: doc/%.texi $(SRC_PATH)/doc/t2h.init $(GENTEXI)
 	$(Q)$(TEXIDEP)
-	$(M)texi2html -I doc -monolithic --init-file $(SRC_PATH)/doc/t2h.init --output $@ $<
+	$(M)makeinfo --html -I doc --no-split --css-ref=t2h.init --output $@ $<
 
 doc/%.pod: TAG = POD
 doc/%.pod: doc/%.texi $(SRC_PATH)/doc/texi2pod.pl $(GENTEXI)
@@ -67,7 +67,7 @@ doc/doxy/html: $(SRC_PATH)/doc/Doxyfile
 	$(M)$(SRC_PATH)/doc/doxy-wrapper.sh $(SRC_PATH) $< $(DOXY_INPUT)
 
 install-progs-$(CONFIG_POD2MAN): install-man
-install-progs-$(CONFIG_TEXI2HTML): install-doc
+install-progs-$(CONFIG_MAKEINFO): install-doc
 
 install-doc: $(HTMLPAGES)
 	$(Q)mkdir -p "$(DOCDIR)"
